(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},60:function(e,t,s){"use strict";s.r(t);var a=s(4),c=s.n(a),n=s(16),i=s.n(n),l=s(17);s(39),s(61),s(62),s(41),s(42);const o=l.a.initializeApp({apiKey:"AIzaSyAxTGBAwP6HwaWCN4-PAMFhsVLYZnn0J1c",authDomain:"whatsappclone-65d3a.firebaseapp.com",projectId:"whatsappclone-65d3a",storageBucket:"whatsappclone-65d3a.appspot.com",messagingSenderId:"44093790458",appId:"1:44093790458:web:cc55c2757cc6aa6c485143",measurementId:"G-YF8Y261RZF"}),r=(o.firestore(),o.auth());o.storage();var d={onChatList:(e,t)=>{t([{chatId:"1",name:"User 1",avatar:"https://via.placeholder.com/150"},{chatId:"2",name:"User 2",avatar:"https://via.placeholder.com/150"}])},addUser:async e=>{console.log("User added:",e)},getContactList:async e=>[{id:"user1",name:"User One",avatar:"https://via.placeholder.com/150"},{id:"user2",name:"User Two",avatar:"https://via.placeholder.com/150"}],addNewChat:async function(e,t,s){const a={chatId:"newChatId",name:t.name,avatar:t.avatar};s(a),console.log("New chat started with:",t.name)},onChatContent:(e,t,s)=>(t([{sender:"user1",message:"Hello!",type:"text"},{sender:"user2",message:"Hi!",type:"text"}]),s(["user1","user2"]),()=>{}),getChatMessages:async e=>[{sender:"user1",message:"Hello!",type:"text",timestamp:(new Date).toISOString()},{sender:"user2",message:"Hi!",type:"text",timestamp:(new Date).toISOString()}],sendMessage:async(e,t)=>(console.log("Message sent:",{messageData:e,chatId:t}),e),uploadAttachment:async e=>"https://via.placeholder.com/300",editMessage:async(e,t)=>(console.log("Message edited:",{newMessage:e,chatId:t}),e),GooglePopup:async()=>{try{const e=new l.a.auth.GoogleAuthProvider;return await r.signInWithPopup(e)}catch(e){return console.error("Google login failed",e),null}}},j=(s(43),s(44),s(1));function h(e){let{onClick:t,data:s,active:c,name:n}=e;const[i,l]=Object(a.useState)("");return Object(a.useEffect)((()=>{if(s.lastMessageDate){let e=new Date(1e3*s.lastMessageDate.seconds),t=e.getHours(),a=e.getMinutes();t=t<10?"0".concat(t):t,a=a<10?"0".concat(a):a,l("".concat(t,":").concat(a))}}),[s]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"chatListItem ".concat(c?"active":""),onClick:t,children:[Object(j.jsx)("div",{className:"chatListItem--avatar"})," ",Object(j.jsxs)("div",{className:"chatListItem--details",children:[Object(j.jsx)("div",{className:"chatListItem--name",children:n})," ",Object(j.jsx)("div",{className:"chatListItem--lastMsg",children:Object(j.jsx)("p",{children:s.lastMessage})}),Object(j.jsx)("div",{className:"chatListItem--date",children:i})]})]}),Object(j.jsx)("hr",{className:"divider"})," "]})}s(46);var m=s.p+"static/media/intro-wpp.6cc48a1e.jpg";function b(){return Object(j.jsxs)("div",{className:"chatIntro",children:[Object(j.jsx)("div",{className:"chatIntro--top"}),Object(j.jsxs)("div",{className:"chatIntro--main",children:[Object(j.jsx)("img",{src:m,alt:""}),Object(j.jsx)("h1",{children:"Keep your cell phone connected"}),Object(j.jsx)("h2",{children:"WhatsApp connects to your phone to tune in to your messages. To reduce data usage, connect your phone to a Wi-Fi network."})]})]})}s(47);var O=s(18),p=s.n(O),x=s(25),u=s.n(x),v=s(23),g=s.n(v);function N(e){let{user:t,data:s}=e;const[c,n]=Object(a.useState)(""),[i,l]=Object(a.useState)([]),[o,r]=Object(a.useState)(null),[h,m]=Object(a.useState)(null);Object(a.useEffect)((()=>{(async()=>{const e=await d.getChatMessages(s.chatId);l(e)})()}),[s.chatId]);return Object(j.jsxs)("div",{className:"chatWindow",children:[Object(j.jsxs)("div",{className:"chatWindow--header",children:[Object(j.jsx)("img",{className:"chatWindow--avatar",src:"https://t4.ftcdn.net/jpg/05/11/55/91/360_F_511559113_UTxNAE1EP40z1qZ8hIzGNrB0LwqwjruK.jpg",alt:"Avatar"}),Object(j.jsx)("div",{className:"chatWindowItem--name",children:"Rohit"}),Object(j.jsx)("div",{className:"chatWindow--title",children:s.title})]}),Object(j.jsx)("div",{className:"chatWindow--messages",children:i.map(((e,s)=>Object(j.jsxs)("div",{className:"message ".concat(e.sender===t.id?"outgoing":"incoming"),children:[e.attachment&&Object(j.jsx)("div",{className:"message--attachment",children:Object(j.jsx)("img",{src:e.attachment,alt:"Attachment"})}),Object(j.jsx)("div",{className:"message--text",children:e.message}),e.sender===t.id&&Object(j.jsx)(g.a,{className:"edit-icon",onClick:()=>(e=>{n(e.message),m(e.attachment),r(e)})(e)})]},e.id||s)))}),Object(j.jsxs)("div",{className:"chatWindow--input",children:[Object(j.jsx)("input",{type:"file",id:"attachment",onChange:async e=>{const t=e.target.files[0];if(t){const e=await d.uploadAttachment(t);m(e)}},style:{display:"none"}}),Object(j.jsx)("label",{htmlFor:"attachment",className:"chatWindow--attachmentIcon",children:Object(j.jsx)(p.a,{})}),Object(j.jsx)("input",{type:"text",value:c,onChange:e=>n(e.target.value),placeholder:"Type a message..."}),Object(j.jsx)(u.a,{onClick:async()=>{if(c.trim()||h){let e;o?(e={...o,message:c,type:h?"image":"text",attachment:h},await d.editMessage(e,s.chatId),l((t=>t.map((t=>t.id===e.id?e:t))))):(e={id:(new Date).getTime(),sender:t.id,message:c,type:h?"image":"text",attachment:h,timestamp:(new Date).toISOString()},await d.sendMessage(e,s.chatId),l((t=>[...t,e]))),n(""),m(null),r(null)}},className:"chatWindow--sendButton"})]})]})}s(53);var f=s(26),w=s.n(f);function y(e){let{setActiveChat:t,user:s,show:c,setShow:n}=e;const[i,l]=Object(a.useState)([]),[o,r]=Object(a.useState)(null);Object(a.useEffect)((()=>{(async()=>{if(null!==s){let e=await d.getContactList(s.id);l(e)}})()}),[s]);const h=()=>n(!c);return Object(j.jsxs)("div",{className:"sidebar newChat",style:{top:c?"60px":"100vh"},children:[Object(j.jsx)("div",{className:"sidebar--topo topo-transparent"}),Object(j.jsx)("div",{className:"sidebar--content",children:Object(j.jsxs)("div",{className:"sidebar--chatlist",children:[Object(j.jsxs)("div",{className:"sidebar--chatlist-top",children:[Object(j.jsx)("h1",{children:"Contacts"}),Object(j.jsx)("div",{onClick:h,className:"newChat--closebutton",children:Object(j.jsx)(w.a,{style:{color:"black",fontSize:30,cursor:"pointer"}})})]}),Object(j.jsx)("input",{type:"file",id:"attachment",onChange:e=>{r(e.target.files[0])},style:{display:"none"}}),Object(j.jsx)("label",{htmlFor:"attachment",className:"newChat--attachment",children:Object(j.jsx)(p.a,{style:{color:"#1DAB67",fontSize:30,cursor:"pointer"}})}),Object(j.jsx)("div",{className:"newChat--list",children:i.map(((e,a)=>Object(j.jsxs)("div",{onClick:()=>{(async e=>{o?await d.addNewChat(s,e,t,o):await d.addNewChat(s,e,t),h()})(e)},className:"newChat--item",children:[Object(j.jsx)("img",{className:"newChat--itemAvatar",src:e.avatar,alt:""}),Object(j.jsx)("div",{className:"newChat--itemName",children:e.name})]},a)))})]})})]})}s(54);var C=s.p+"static/media/preview.af3888e1.png",S=s(27),I=s.n(S);function A(e){let{onReceive:t}=e;const[s,c]=Object(a.useState)(!1);return Object(j.jsxs)("section",{className:"container-login",children:[Object(j.jsx)("div",{className:"login-topbar",children:Object(j.jsxs)("div",{className:"topbar--version",children:[Object(j.jsxs)("div",{className:"topbar--login",onClick:()=>c(!s),children:[Object(j.jsx)("div",{children:"Login"}),Object(j.jsx)(I.a,{style:{color:"#ccc",transform:"rotate(".concat(s?"180deg":"0",")")}})]}),Object(j.jsx)("div",{className:"login-options",style:{display:s?"flex":"none"},children:Object(j.jsx)("div",{className:"login--option",onClick:async()=>{let e=await d.GooglePopup();e&&t(e.user)},children:"Google"})})]})}),Object(j.jsx)("div",{className:"login-main",children:Object(j.jsxs)("div",{className:"login-main--top",children:[Object(j.jsx)("img",{className:"login-main--top-img",src:"https://i.pinimg.com/originals/f5/28/cc/f528cc010d8a9bfcef07d08106976d0f.png",alt:""}),Object(j.jsx)("h1",{children:"Message any Time anywhere \ud83d\udcac"})]})}),Object(j.jsx)("div",{className:"login-main--content",children:Object(j.jsx)("img",{src:C,alt:"preview"})}),Object(j.jsxs)("div",{className:"footer",children:["\xa9 2024 ",Object(j.jsx)("a",{href:"https://ernane-dev.netlify.app/",children:"Developed by Lakshita"})]})]})}s(55);function L(){const[e,t]=Object(a.useState)(!1);return Object(j.jsxs)("div",{onClick:()=>t(!e),className:"label-not-disturb",children:[Object(j.jsx)("div",{className:"container-toggle",style:{backgroundColor:e?"#1EBE71":"#C6C6C6"},children:Object(j.jsx)("div",{className:"toggle",style:{right:e?"2px":"20px",backgroundColor:e?"#eee":"#F2F2F2"}})}),Object(j.jsx)("p",{children:"Mute message"})]})}s(56);var k=s(29),M=s.n(k),z=s(28),D=s.n(z),W=s(30),E=s.n(W);function B(e){let{user:t,setUser:s,chatList:c,setChatList:n}=e;const[i,l]=Object(a.useState)(""),[o,r]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{""!==i?n(c.filter((e=>e.title.toLowerCase().includes(i.toLowerCase())))):d.onChatList(t.id,n)}),[i]),Object(j.jsx)("div",{className:"TopBar",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"logo",children:[Object(j.jsx)(D.a,{style:{color:"#fff",fontSize:35}}),Object(j.jsx)("p",{children:"WhatsappClone"})]}),Object(j.jsx)("div",{className:"search",children:Object(j.jsxs)("div",{className:"search--input",children:[Object(j.jsx)(M.a,{style:{color:"#ffffff80",fontSize:20}}),Object(j.jsx)("input",{type:"search",value:i,onChange:e=>l(e.target.value),placeholder:"Search for message"})]})}),Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)("p",{children:t.name}),Object(j.jsx)("img",{src:t.avatar,alt:"avatar",onClick:()=>{r(!o)}}),Object(j.jsx)("div",{className:"profile--options ".concat(o?"active":""),onClick:()=>{s(null),localStorage.removeItem("user")},children:Object(j.jsxs)("div",{className:"profile--options--option",children:[Object(j.jsx)(E.a,{style:{color:"#1EBE71",fontSize:"23px"}}),Object(j.jsx)("p",{children:"LogOut"})]})})]})]})})}s(57);var U=()=>Object(j.jsx)("div",{className:"status-placeholder",children:Object(j.jsx)("div",{className:"status-circle"})});s(58);var F=()=>{const e=Array(10).fill(0);return Object(j.jsx)("div",{className:"status-list",children:e.map(((e,t)=>Object(j.jsx)(U,{},t)))})},T=s(21),G=s.n(T),P=s(31),H=s.n(P),J=s(33),R=s.n(J),Y=s(32),K=s.n(Y);function Z(){const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)([]),[n,i]=Object(a.useState)({}),[l,o]=Object(a.useState)(!1),[r,m]=Object(a.useState)(!1);Object(a.useEffect)((()=>{null===e?t(JSON.parse(localStorage.getItem("user"))):d.onChatList(e.id,c)}),[e]);return null===e?Object(j.jsx)(A,{onReceive:async e=>{const s={id:e.uid,name:e.displayName,email:e.email,avatar:e.photoURL,provider:e.providerData.providerId};await d.addUser(s),t(s),localStorage.setItem("user",JSON.stringify(s))}}):Object(j.jsxs)("div",{className:"app-window",children:[Object(j.jsx)(y,{setActiveChat:i,chatList:s,user:e,show:l,setShow:o}),Object(j.jsx)(B,{user:e,chatList:s,setUser:t,setChatList:c}),Object(j.jsxs)("div",{className:"MainContent",children:[Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("div",{className:"sidebar--topo"}),Object(j.jsxs)("div",{className:"sidebar--content",children:[Object(j.jsxs)("div",{className:"sidebar--actions",children:[Object(j.jsxs)("div",{className:"sidebar--actions--btn",children:[Object(j.jsx)(G.a,{style:{color:"#1DAB67",fontSize:40}}),Object(j.jsx)("p",{className:"sidebar--actions-label",children:"Messages"})]}),Object(j.jsxs)("div",{className:"sidebar--actions--btn",children:[Object(j.jsx)(H.a,{style:{color:"#A5A5A5",fontSize:40}}),Object(j.jsx)("p",{className:"sidebar--actions-label",children:"Calls"})]}),Object(j.jsxs)("div",{className:"sidebar--actions--btn",onClick:()=>{m(!r)},children:[Object(j.jsx)(K.a,{style:{color:r?"#1DAB67":"#A5A5A5",fontSize:40}}),Object(j.jsx)("p",{className:"sidebar--actions-label",children:"Status"})]})]}),Object(j.jsxs)("div",{className:"sidebar--chatlist",children:[Object(j.jsx)("div",{className:"sidebar--chatlist-disturb",children:Object(j.jsx)(L,{})}),r?Object(j.jsx)(F,{}):s.length>0?s.map(((e,t)=>Object(j.jsx)(h,{data:e,active:n.chatId===e.chatId,onClick:()=>i(e),name:t%2===0?"Mira":"Lakshita"},t))):Object(j.jsx)("div",{className:"not-chat-search",children:Object(j.jsxs)("div",{className:"chat-notfound",style:{marginTop:20},children:[Object(j.jsx)(G.a,{style:{color:"#ccc",fontSize:50}}),Object(j.jsx)("p",{className:"sidebar--actions-label",style:{color:"#999"},children:"No Chat found"})]})}),Object(j.jsxs)("div",{className:"sidebar--chatlist-newChat",children:[Object(j.jsx)("h1",{children:"You've come to an end."}),Object(j.jsx)("p",{children:"Add more friends!"}),Object(j.jsx)("div",{className:"sidebar--chatlist--btn-more",onClick:()=>{o(!l)},children:Object(j.jsx)(R.a,{style:{color:"#fff",fontSize:40}})})]})]})]})]}),Object(j.jsx)("div",{className:"contentarea",children:void 0!==n.chatId?Object(j.jsx)(N,{user:e,data:n}):Object(j.jsx)(b,{})})]})]})}i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Z,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.6764a314.chunk.js.map